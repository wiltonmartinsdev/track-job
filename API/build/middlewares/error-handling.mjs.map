{"version":3,"sources":["../../src/middlewares/error-handling.ts","../../src/utils/AppError.ts"],"sourcesContent":["import { Request, Response, NextFunction } from \"express\";\nimport { ZodError } from \"zod\";\n\nimport AppError from \"../utils/AppError\";\n\nexport default function errorHandling(\n\terror: any,\n\trequest: Request,\n\tresponse: Response,\n\t_: NextFunction\n) {\n\tif (error instanceof AppError) {\n\t\tresponse.status(error.statusCode).json({ message: error.message });\n\t} else if (error instanceof ZodError) {\n\t\tresponse\n\t\t\t.status(400)\n\t\t\t.json({ message: \"Validation error\", issues: error.format() });\n\t} else {\n\t\tresponse.status(500).json({ message: error.message });\n\t}\n}\n","export default class AppError {\n    message: string;\n    statusCode: number;     \n    constructor(message: string, statusCode = 400) {\n        this.message = message;\n        this.statusCode = statusCode;\n        \n    }\n}"],"mappings":";AACA,SAAS,gBAAgB;;;ACDzB,IAAqB,WAArB,MAA8B;AAAA,EAC1B;AAAA,EACA;AAAA,EACA,YAAY,SAAiB,aAAa,KAAK;AAC3C,SAAK,UAAU;AACf,SAAK,aAAa;AAAA,EAEtB;AACJ;;;ADHe,SAAR,cACN,OACA,SACA,UACA,GACC;AACD,MAAI,iBAAiB,UAAU;AAC9B,aAAS,OAAO,MAAM,UAAU,EAAE,KAAK,EAAE,SAAS,MAAM,QAAQ,CAAC;AAAA,EAClE,WAAW,iBAAiB,UAAU;AACrC,aACE,OAAO,GAAG,EACV,KAAK,EAAE,SAAS,oBAAoB,QAAQ,MAAM,OAAO,EAAE,CAAC;AAAA,EAC/D,OAAO;AACN,aAAS,OAAO,GAAG,EAAE,KAAK,EAAE,SAAS,MAAM,QAAQ,CAAC;AAAA,EACrD;AACD;","names":[]}